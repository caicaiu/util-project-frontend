(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[330],{1109:function(H,M,t){"use strict";t.r(M),t.d(M,{default:function(){return ae}});var y=t(71194),C=t(50146),E=t(17462),w=t(76772),I=t(57663),F=t(71577),d=t(90636),b=t(11849),Q=t(34792),v=t(48086),g=t(3182),h=t(2824),B=t(49101),U=t(81907),G=t(93760),f=t(67294),j=t(36062),S=t(37476),s=t(5966),e=t(85893),c=function(p){return(0,e.jsxs)(S.Y,{title:"\u7528\u6237\u8BE6\u60C5",width:"400px",initialValues:p.values,visible:p.updateModalVisible,modalProps:{destroyOnClose:!0,onCancel:p.onCancel},onFinish:p.onSubmit,children:[(0,e.jsx)(s.Z,{label:"id",width:"md",name:"id",disabled:!0}),(0,e.jsx)(s.Z,{rules:[{required:!0,message:"\u540D\u79F0"}],label:"\u540D\u79F0",width:"md",name:"typeName"})]})},T=c,a=function(p){return(0,e.jsxs)(S.Y,{title:"\u7528\u6237\u8BE6\u60C5",width:"400px",initialValues:p.values,visible:p.detailModalVisible,modalProps:{destroyOnClose:!0,onCancel:p.onCancel},onFinish:p.onSubmit,children:[(0,e.jsx)(s.Z,{label:"id",width:"md",name:"id",disabled:!0}),(0,e.jsx)(s.Z,{rules:[{required:!0,message:"\u540D\u79F0"}],label:"\u540D\u79F0",width:"md",name:"typeName"})]})},_=a,q=function(p){return(0,e.jsx)(S.Y,{modalProps:{destroyOnClose:!0,onCancel:p.onCancel},title:"\u65B0\u5EFA\u63A5\u53E3",width:"400px",visible:p.createModalVisible,onFinish:p.onSubmit,children:(0,e.jsx)(s.Z,{rules:[{required:!0,message:"\u7C7B\u578B\u540D\u79F0"}],label:"\u7C7B\u578B\u540D\u79F0",width:"md",name:"typeName"})})},ee=q,re=function(){var p=(0,f.useState)(!1),Y=(0,h.Z)(p,2),ne=Y[0],D=Y[1],te=(0,f.useState)(),K=(0,h.Z)(te,2),Te=K[0],ue=K[1],se=(0,f.useState)(!1),L=(0,h.Z)(se,2),ie=L[0],P=L[1],le=(0,f.useState)(!1),N=(0,h.Z)(le,2),oe=N[0],A=N[1],de=(0,f.useState)(!1),J=(0,h.Z)(de,2),ce=J[0],R=J[1],pe=(0,f.useState)([]),X=(0,h.Z)(pe,2),Ze=X[0],fe=X[1],me=(0,f.useState)(!1),z=(0,h.Z)(me,2),he=z[0],Se=z[1],O=(0,f.useRef)(),ve=(0,f.useState)(),x=(0,h.Z)(ve,2),V=x[0],W=x[1],ye=function(){var l=(0,g.Z)((0,d.Z)().mark(function i(u){var o,m;return(0,d.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=v.ZP.loading("Configuring"),r.prev=1,r.next=4,(0,j.JZ)((0,b.Z)({},u));case 4:if(m=r.sent,m.code===0){r.next=7;break}return r.abrupt("return");case 7:return o(),P(!1),v.ZP.success("Configuration is successful"),r.abrupt("return",!0);case 13:return r.prev=13,r.t0=r.catch(1),o(),P(!1),v.ZP.error("Configuration failed, please try again!"),r.abrupt("return",!1);case 19:case"end":return r.stop()}},i,null,[[1,13]])}));return function(u){return l.apply(this,arguments)}}(),ge=function(){var l=(0,g.Z)((0,d.Z)().mark(function i(){var u,o;return(0,d.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=v.ZP.loading("\u6B63\u5728\u5220\u9664"),V){n.next=3;break}return n.abrupt("return",!0);case 3:return n.prev=3,n.next=6,(0,j.vj)({id:V.id});case 6:return o=n.sent,u(),R(!1),v.ZP.success("\u5220\u9664\u6210\u529F"),O.current.reload(),n.abrupt("return",!0);case 14:return n.prev=14,n.t0=n.catch(3),u(),R(!1),n.abrupt("return",!1);case 19:case"end":return n.stop()}},i,null,[[3,14]])}));return function(){return l.apply(this,arguments)}}(),be=function(){var l=(0,g.Z)((0,d.Z)().mark(function i(u){var o,m;return(0,d.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=v.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,j.iX)((0,b.Z)({},u));case 4:if(m=r.sent,m.code===0){r.next=7;break}return r.abrupt("return");case 7:return o(),v.ZP.success("\u6DFB\u52A0\u63A5\u53E3\u6210\u529F"),D(!1),r.abrupt("return",!0);case 13:return r.prev=13,r.t0=r.catch(1),o(),D(!1),r.abrupt("return",!1);case 18:case"end":return r.stop()}},i,null,[[1,13]])}));return function(u){return l.apply(this,arguments)}}(),k=[{title:"\u7F51\u7AD9\u540D\u5B57",dataIndex:"typeName",valueType:"text"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(i,u){return[(0,e.jsx)("a",{onClick:function(){A(!0),W(u)},children:"\u8BE6\u60C5"},"config"),(0,e.jsx)("a",{onClick:function(){P(!0),W(u)},children:"\u4FEE\u6539"},"config"),(0,e.jsx)("a",{onClick:function(){R(!0),W(u)},children:"\u5220\u9664"},"config")]}}];return(0,e.jsxs)(U.ZP,{children:[(0,e.jsx)(G.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",pagination:{pageSize:10},actionRef:O,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsxs)(F.Z,{type:"primary",onClick:function(){ue(k),D(!0)},children:[(0,e.jsx)(B.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var l=(0,g.Z)((0,d.Z)().mark(function i(u,o,m){var n,r;return(0,d.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,j.UD)((0,b.Z)((0,b.Z)({},u),{},{sortField:"createTime",sortProductOrder:"desc"}));case 2:if(n=Z.sent,r=n.data,!r){Z.next=8;break}return Z.abrupt("return",{data:r==null?void 0:r.records,success:r==null?void 0:r.searchCount,total:r==null?void 0:r.total});case 8:return Z.abrupt("return",{data:[],success:!0,total:0});case 9:case"end":return Z.stop()}},i)}));return function(i,u,o){return l.apply(this,arguments)}}(),columns:k,rowSelection:{onChange:function(i,u){fe(u)}}}),(0,e.jsx)(T,{onSubmit:function(){var l=(0,g.Z)((0,d.Z)().mark(function i(u){var o;return(0,d.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ye(u);case 2:o=n.sent,o&&(P(!1),W(void 0),O.current&&O.current.reload());case 4:case"end":return n.stop()}},i)}));return function(i){return l.apply(this,arguments)}}(),onCancel:function(){P(!1),he||W(void 0)},updateModalVisible:ie,values:V||{}}),(0,e.jsx)(_,{onSubmit:function(){var l=(0,g.Z)((0,d.Z)().mark(function i(u){return(0,d.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:A(!1);case 1:case"end":return m.stop()}},i)}));return function(i){return l.apply(this,arguments)}}(),detailModalVisible:oe,onCancel:(0,g.Z)((0,d.Z)().mark(function l(){return(0,d.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:A(!1);case 1:case"end":return u.stop()}},l)})),values:V||{}}),(0,e.jsx)(ee,{onSubmit:function(){var l=(0,g.Z)((0,d.Z)().mark(function i(u){var o;return(0,d.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,be(u);case 2:o=n.sent,o&&(P(!1),W(void 0),O.current&&O.current.reload());case 4:case"end":return n.stop()}},i)}));return function(i){return l.apply(this,arguments)}}(),onCancel:function(){D(!1)},createModalVisible:ne,values:k||{}}),(0,e.jsx)(C.Z,{title:"\u5220\u9664\u63D0\u793A",open:ce,onOk:function(){return ge()},onCancel:function(){R(!1)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,e.jsx)(w.Z,{message:"\u8BE5\u64CD\u4F5C\u4F1A\u6C38\u4E45\u5220\u9664\u63A5\u53E3\uFF0C\u4F60\u786E\u5B9A\u5220\u9664\u5417",type:"warning",showIcon:!0,closable:!0})})]})},ae=re},36062:function(H,M,t){"use strict";t.d(M,{iX:function(){return I},vj:function(){return d},UD:function(){return B},JZ:function(){return j}});var y=t(90636),C=t(11849),E=t(3182),w=t(81910);function I(s,e){return F.apply(this,arguments)}function F(){return F=(0,E.Z)((0,y.Z)().mark(function s(e,c){return(0,y.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,w.WY)("/api/webType-tag/add",(0,C.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:e},c||{})));case 1:case"end":return a.stop()}},s)})),F.apply(this,arguments)}function d(s,e){return b.apply(this,arguments)}function b(){return b=(0,E.Z)((0,y.Z)().mark(function s(e,c){return(0,y.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,w.WY)("/api/webType-tag/delete",(0,C.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:e},c||{})));case 1:case"end":return a.stop()}},s)})),b.apply(this,arguments)}function Q(s,e){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function s(e,c){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/webType-tag/edit",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:e},c||{})));case 1:case"end":return a.stop()}},s)})),v.apply(this,arguments)}function g(s,e){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function s(e,c){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/webType-tag/get/vo",_objectSpread({method:"GET",params:_objectSpread({},e)},c||{})));case 1:case"end":return a.stop()}},s)})),h.apply(this,arguments)}function B(s,e){return U.apply(this,arguments)}function U(){return U=(0,E.Z)((0,y.Z)().mark(function s(e,c){return(0,y.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,w.WY)("/api/webType-tag/list/page/vo",(0,C.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:e},c||{})));case 1:case"end":return a.stop()}},s)})),U.apply(this,arguments)}function G(s,e){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function s(e,c){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/webType-tag/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:e},c||{})));case 1:case"end":return a.stop()}},s)})),f.apply(this,arguments)}function j(s,e){return S.apply(this,arguments)}function S(){return S=(0,E.Z)((0,y.Z)().mark(function s(e,c){return(0,y.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,w.WY)("/api/webType-tag/update",(0,C.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:e},c||{})));case 1:case"end":return a.stop()}},s)})),S.apply(this,arguments)}}}]);
