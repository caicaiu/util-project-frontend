(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[567],{64317:function(N,F,n){"use strict";var h=n(22122),P=n(28991),_=n(81253),Z=n(22270),W=n(67294),O=n(66758),c=n(60029),S=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],L=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],g=W.forwardRef(function(p,m){var E=p.fieldProps,T=p.children,t=p.params,a=p.proFieldProps,r=p.mode,v=p.valueEnum,e=p.request,I=p.showSearch,V=p.options,$=(0,_.Z)(p,S),x=(0,W.useContext)(O.Z);return W.createElement(c.Z,(0,h.Z)({mode:"edit",valueEnum:(0,Z.h)(v),request:e,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,P.Z)({options:V,mode:r,showSearch:I,getPopupContainer:x.getPopupContainer},E),ref:m,proFieldProps:a},$),T)}),j=W.forwardRef(function(p,m){var E=p.fieldProps,T=p.children,t=p.params,a=p.proFieldProps,r=p.mode,v=p.valueEnum,e=p.request,I=p.options,V=(0,_.Z)(p,L),$=(0,P.Z)({options:I,mode:r||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},E),x=(0,W.useContext)(O.Z);return W.createElement(c.Z,(0,h.Z)({mode:"edit",valueEnum:(0,Z.h)(v),request:e,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,P.Z)({getPopupContainer:x.getPopupContainer},$),ref:m,proFieldProps:a},V),T)}),f=g,U=j,w=f;w.SearchSelect=U,w.displayName="ProFormComponent",F.Z=w},84347:function(N,F,n){"use strict";n.r(F),n.d(F,{default:function(){return de}});var h=n(71194),P=n(50146),_=n(17462),Z=n(76772),W=n(57663),O=n(71577),c=n(90636),S=n(11849),L=n(34792),g=n(48086),j=n(3182),f=n(2824),U=n(49101),w=n(81907),p=n(93760),m=n(67294),E=n(41238),T=n(37476),t=n(5966),a=n(64317),r=n(85893),v=function(b){return(0,r.jsxs)(T.Y,{title:"\u7528\u6237\u8BE6\u60C5",width:"400px",initialValues:b.values,visible:b.detailModalVisible,modalProps:{destroyOnClose:!0,onCancel:b.onCancel},onFinish:b.onSubmit,children:[(0,r.jsx)(t.Z,{label:"id",width:"md",name:"id",disabled:!0}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u7F51\u7AD9\u540D\u5B57"}],label:"\u7F51\u7AD9\u540D\u5B57",width:"md",name:"webName"}),(0,r.jsx)(t.Z,{label:"\u7F51\u7AD9url",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9url"}],width:"md",name:"webUrl"}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165webAvatar"}],label:"\u5934\u50CF",width:"md",name:"webAvatar"}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],label:"\u63CF\u8FF0",width:"md",name:"requestPath"}),(0,r.jsx)(a.Z,{width:"md",label:"\u7F51\u7AD9\u7C7B\u578B",name:"type",options:b.type.map(function(C){return{value:C.id,label:C.typeName}})})]})},e=v,I=function(b){var C;return(0,r.jsxs)(T.Y,{modalProps:{destroyOnClose:!0,onCancel:b.onCancel},title:"\u65B0\u5EFA\u63A5\u53E3",width:"400px",visible:b.createModalVisible,onFinish:b.onSubmit,children:[(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u7F51\u7AD9\u540D\u5B57"}],label:"\u7F51\u7AD9\u540D\u5B57",width:"md",name:"webName"}),(0,r.jsx)(t.Z,{label:"\u7F51\u7AD9url",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9url"}],width:"md",name:"webUrl"}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165webAvatar"}],label:"\u5934\u50CF",width:"md",name:"webAvatar"}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],label:"\u63CF\u8FF0",width:"md",name:"requestPath"}),(0,r.jsx)(a.Z,{width:"md",label:"\u7F51\u7AD9\u7C7B\u578B",name:"type",options:(C=b.type)===null||C===void 0?void 0:C.map(function(M){return{value:M.id,label:M.typeName}})})]})},V=I,$=function(b){var C;return(0,r.jsxs)(T.Y,{title:"\u7528\u6237\u8BE6\u60C5",width:"400px",initialValues:b.values,visible:b.updateModalVisible,modalProps:{destroyOnClose:!0,onCancel:b.onCancel},onFinish:b.onSubmit,children:[(0,r.jsx)(t.Z,{label:"id",width:"md",name:"id",disabled:!0}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u7F51\u7AD9\u540D\u5B57"}],label:"\u7F51\u7AD9\u540D\u5B57",width:"md",name:"webName"}),(0,r.jsx)(t.Z,{label:"\u7F51\u7AD9url",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9url"}],width:"md",name:"webUrl"}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165webAvatar"}],label:"\u5934\u50CF",width:"md",name:"webAvatar"}),(0,r.jsx)(t.Z,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}],label:"\u63CF\u8FF0",width:"md",name:"webProfile"}),(0,r.jsx)(a.Z,{width:"md",label:"\u7F51\u7AD9\u7C7B\u578B",name:"type",options:(C=b.type)===null||C===void 0?void 0:C.map(function(M){return{value:M.id,label:M.typeName}})})]})},x=$,ie=n(53776),le=n(36062),oe=function(){var b=(0,m.useState)(!1),C=(0,f.Z)(b,2),M=C[0],K=C[1],pe=(0,m.useState)(),Q=(0,f.Z)(pe,2),Ee=Q[0],ce=Q[1],me=(0,m.useState)([]),q=(0,f.Z)(me,2),z=q[0],he=q[1],ee=(0,ie.t)("@@initialState"),J=ee.initialState,We=ee.setInitialState,fe=(0,m.useState)(!1),re=(0,f.Z)(fe,2),ve=re[0],B=re[1],be=(0,m.useState)(!1),te=(0,f.Z)(be,2),ge=te[0],X=te[1],ye=(0,m.useState)(!1),ae=(0,f.Z)(ye,2),Pe=ae[0],G=ae[1],Te=(0,m.useState)([]),ne=(0,f.Z)(Te,2),Fe=ne[0],Ze=ne[1],Se=(0,m.useState)(!1),ue=(0,f.Z)(Se,2),_e=ue[0],De=ue[1],R=(0,m.useRef)(),we=(0,m.useState)(),se=(0,f.Z)(we,2),Y=se[0],A=se[1],Ce=function(){var o=(0,j.Z)((0,c.Z)().mark(function l(s){var d,y;return(0,c.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return d=g.ZP.loading("Configuring"),u.prev=1,u.next=4,(0,E.a8)((0,S.Z)({},s));case 4:if(y=u.sent,y.code===0){u.next=7;break}return u.abrupt("return");case 7:return d(),B(!1),g.ZP.success("Configuration is successful"),u.abrupt("return",!0);case 13:return u.prev=13,u.t0=u.catch(1),d(),B(!1),g.ZP.error("Configuration failed, please try again!"),u.abrupt("return",!1);case 19:case"end":return u.stop()}},l,null,[[1,13]])}));return function(s){return o.apply(this,arguments)}}();(0,m.useEffect)(function(){var o,l;(0,le.UD)({userId:(o=J==null||(l=J.currentUser)===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:0}).then(function(s){var d,y;he((d=s==null||(y=s.data)===null||y===void 0?void 0:y.records)!==null&&d!==void 0?d:[])})},[]);var Oe=function(){var o=(0,j.Z)((0,c.Z)().mark(function l(){var s,d;return(0,c.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=g.ZP.loading("\u6B63\u5728\u5220\u9664"),Y){i.next=3;break}return i.abrupt("return",!0);case 3:return i.prev=3,i.next=6,(0,E.DD)({id:Y.id});case 6:return d=i.sent,s(),G(!1),g.ZP.success("\u5220\u9664\u6210\u529F"),R.current.reload(),i.abrupt("return",!0);case 14:return i.prev=14,i.t0=i.catch(3),s(),G(!1),i.abrupt("return",!1);case 19:case"end":return i.stop()}},l,null,[[3,14]])}));return function(){return o.apply(this,arguments)}}(),je=function(){var o=(0,j.Z)((0,c.Z)().mark(function l(s){var d,y;return(0,c.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return d=g.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),u.prev=1,u.next=4,(0,E.tm)((0,S.Z)({},s));case 4:if(y=u.sent,y.code===0){u.next=7;break}return u.abrupt("return");case 7:return d(),g.ZP.success("\u6DFB\u52A0\u63A5\u53E3\u6210\u529F"),K(!1),u.abrupt("return",!0);case 13:return u.prev=13,u.t0=u.catch(1),d(),K(!1),u.abrupt("return",!1);case 18:case"end":return u.stop()}},l,null,[[1,13]])}));return function(s){return o.apply(this,arguments)}}(),H=[{title:"\u7F51\u7AD9\u540D\u5B57",dataIndex:"webName",valueType:"text"},{title:"\u7F51\u7AD9\u5730\u5740",dataIndex:"webUrl",valueType:"text"},{hideInSearch:!0,title:"\u7F51\u7AD9\u56FE\u7247",dataIndex:"webAvatar",valueType:"image"},{title:"\u7F51\u7AD9\u63CF\u8FF0",dataIndex:"webProfile",valueType:"text"},{title:"\u7F51\u7AD9\u7C7B\u578B",dataIndex:["webTypeVO","typeName"],valueType:"jsonCode"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(l,s){return[(0,r.jsx)("a",{onClick:function(){X(!0),A(s)},children:"\u8BE6\u60C5"},"config"),(0,r.jsx)("a",{onClick:function(){B(!0),A(s)},children:"\u4FEE\u6539"},"config"),(0,r.jsx)("a",{onClick:function(){G(!0),A(s)},children:"\u5220\u9664"},"config")]}}];return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(p.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",pagination:{pageSize:10},actionRef:R,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,r.jsxs)(O.Z,{type:"primary",onClick:function(){ce(H),K(!0)},children:[(0,r.jsx)(U.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var o=(0,j.Z)((0,c.Z)().mark(function l(s,d,y){var i,u;return(0,c.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,E.vY)((0,S.Z)((0,S.Z)({},s),{},{sortField:"createTime",sortProductOrder:"desc"}));case 2:if(i=D.sent,u=i.data,!u){D.next=8;break}return D.abrupt("return",{data:u==null?void 0:u.records,success:u==null?void 0:u.searchCount,total:u==null?void 0:u.total});case 8:return D.abrupt("return",{data:[],success:!0,total:0});case 9:case"end":return D.stop()}},l)}));return function(l,s,d){return o.apply(this,arguments)}}(),columns:H,rowSelection:{onChange:function(l,s){Ze(s)}}}),(0,r.jsx)(x,{type:z,onSubmit:function(){var o=(0,j.Z)((0,c.Z)().mark(function l(s){var d;return(0,c.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ce(s);case 2:d=i.sent,d&&(B(!1),A(void 0),R.current&&R.current.reload());case 4:case"end":return i.stop()}},l)}));return function(l){return o.apply(this,arguments)}}(),onCancel:function(){B(!1),_e||A(void 0)},updateModalVisible:ve,values:Y||{}}),(0,r.jsx)(e,{type:z,onSubmit:function(){var o=(0,j.Z)((0,c.Z)().mark(function l(s){return(0,c.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:X(!1);case 1:case"end":return y.stop()}},l)}));return function(l){return o.apply(this,arguments)}}(),detailModalVisible:ge,onCancel:(0,j.Z)((0,c.Z)().mark(function o(){return(0,c.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:X(!1);case 1:case"end":return s.stop()}},o)})),values:Y||{}}),(0,r.jsx)(V,{type:z,onSubmit:function(){var o=(0,j.Z)((0,c.Z)().mark(function l(s){var d;return(0,c.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,je(s);case 2:d=i.sent,d&&(B(!1),A(void 0),R.current&&R.current.reload());case 4:case"end":return i.stop()}},l)}));return function(l){return o.apply(this,arguments)}}(),onCancel:function(){K(!1)},createModalVisible:M,values:H||{}}),(0,r.jsx)(P.Z,{title:"\u5220\u9664\u63D0\u793A",open:Pe,onOk:function(){return Oe()},onCancel:function(){G(!1)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,r.jsx)(Z.Z,{message:"\u8BE5\u64CD\u4F5C\u4F1A\u6C38\u4E45\u5220\u9664\u63A5\u53E3\uFF0C\u4F60\u786E\u5B9A\u5220\u9664\u5417",type:"warning",showIcon:!0,closable:!0})})]})},de=oe},41238:function(N,F,n){"use strict";n.d(F,{tm:function(){return W},DD:function(){return c},vY:function(){return U},a8:function(){return E}});var h=n(90636),P=n(11849),_=n(3182),Z=n(81910);function W(t,a){return O.apply(this,arguments)}function O(){return O=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/web/add",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}function c(t,a){return S.apply(this,arguments)}function S(){return S=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/web/delete",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),S.apply(this,arguments)}function L(t,a){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/web/edit",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),g.apply(this,arguments)}function j(t,a){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/web/get/vo",_objectSpread({method:"GET",params:_objectSpread({},a)},r||{})));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function U(t,a){return w.apply(this,arguments)}function w(){return w=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/web/list/page/vo",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),w.apply(this,arguments)}function p(t,a){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/web/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function E(t,a){return T.apply(this,arguments)}function T(){return T=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/web/update",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),T.apply(this,arguments)}},36062:function(N,F,n){"use strict";n.d(F,{iX:function(){return W},vj:function(){return c},UD:function(){return U},JZ:function(){return E}});var h=n(90636),P=n(11849),_=n(3182),Z=n(81910);function W(t,a){return O.apply(this,arguments)}function O(){return O=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/webType-tag/add",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}function c(t,a){return S.apply(this,arguments)}function S(){return S=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/webType-tag/delete",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),S.apply(this,arguments)}function L(t,a){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/webType-tag/edit",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),g.apply(this,arguments)}function j(t,a){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/webType-tag/get/vo",_objectSpread({method:"GET",params:_objectSpread({},a)},r||{})));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function U(t,a){return w.apply(this,arguments)}function w(){return w=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/webType-tag/list/page/vo",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),w.apply(this,arguments)}function p(t,a){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/webType-tag/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function E(t,a){return T.apply(this,arguments)}function T(){return T=(0,_.Z)((0,h.Z)().mark(function t(a,r){return(0,h.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.WY)("/api/webType-tag/update",(0,P.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},r||{})));case 1:case"end":return e.stop()}},t)})),T.apply(this,arguments)}}}]);
